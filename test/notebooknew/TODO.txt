# NotebookNode

- new child with duplicate id
- loading:
    created_time
    modified_time
    order
    duplicate_of
    icon
    icon_open
    title_fgcolor
    title_bgcolor
    client_preferences

# - Remove the content type for trash nodes completely?
# - trashed_from/deleted_from
# - ContentNode.trash()
# - FolderNode.trash()
# - TrashNode.empty()
# - dirty if >= 1 nodes are dirty or if notebook is dirty
# - only save nodes that have been changed
# - only save notebook if it has been changed
# - Notebook.ui_prefs
#   - set attributes -> save -> get attributes
# - Notebook.default_font
# - Notebook.icons
# - Notebook.node_changed = Listeners()  # signature = (node, recurse)
# - ordering ?
# - multiple trash nodes
# - trash parent != root
# - repairing incorrect structures
# NotebookError
# NotebookVersionError

Bugs in KeepNote, die gefixt zijn/worden:
- Opslaan is niet consistent: node-inhoud wordt direct opgeslagen, metadata niet


New Test Structure:

NotebookTest
	test_is_dirty
	test_is_dirty_if_nodes_dirty
	test_load_content_node_main_payload_name_missing
	test_load_trash_node

ContentFolderNodeTestBase
x	test_is_root
x	test_is_in_trash
x	test_delete_without_children
x	test_delete_with_children
x
x	test_delete_if_root
x	test_new_content_child_node
-	test_new_content_child_node_no_main_payload
x	test_new_content_child_node_in_trash
x	test_new_content_child_node_if_deleted_unsaved
x	test_new_folder_child_node
x	test_new_folder_child_node_in_trash
x	test_new_folder_child_node_if_deleted_unsaved
x	test_copy_after_sibling
x	test_copy_to_trash
x	test_copy_to_node_in_trash
-	test_copy_to_notebook
x	test_copy_with_subtree
x	test_copy_with_subtree_to_child
x	test_move
x	test_move_after_sibling
-	test_move_to_trash
x	test_move_root
x	test_move_to_child
x	test_move_to_different_notebook

	test_save_with_dirty_parent
	test_save_with_dirty_children

	test node already exists with id for content/folder

ContentNodeTest
	test: "Either main_payload and additional_payloads or main_payload_name and additional_payload_names must be passed."
x	test_add_additional_payload
x	test_add_additional_payload_existing1
x	test_add_additional_payload_existing2
x	test_get_payload_from_storage
x	test_remove_additional_payload
x	test_remove_additional_payload_existing_in_storage
x	test_set_main_payload
x	test_set_main_payload_existing_in_storage
x	test_copy
x	test_copy_payload_in_storage
x	test_save_new
	test_save_add_additional_payload
	test_save_remove_additional_payload
	test_save_set_main_payload
	test_save_delete
	test_save_move
	test_save_root (omdat parent is None)

FolderTest
	test_incorrect_content_type
	test_copy
	test_copy_payload_in_storage

TrashTest
	test_incorrect_content_type
	test_is_root
	test_is_in_trash
	test_delete
	test_new_content_child_node_in_trash
	test_new_folder_child_node_in_trash
	test_copy
	test_copy_after_sibling
	test_copy_subtree
	test_copy_subtree_to_child
	test_move
